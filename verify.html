<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Verify Certificate - Excel Mastery Academy</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>
  <div class="container">
    <h1>Excel Mastery Academy</h1>
    <nav>
      <a href="index.html">Home</a>
    </nav>
  </div>
</header>

<main class="container">
  <section>
    <h2>Verify Your Certificate</h2>
    <input type="text" id="certInput" placeholder="Enter Certificate ID">
    <button id="verifyBtn" class="btn">Verify</button>
    <div id="result" style="margin-top:20px;"></div>
  </section>
</main>

<footer>
  <p>© 2025 Excel Mastery Academy</p>
</footer>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

<script>
  // Firebase config — replace with your own
  const firebaseConfig = {
    apiKey: "YOUR_API_KEY",
    authDomain: "YOUR_AUTH_DOMAIN",
    projectId: "YOUR_PROJECT_ID",
  };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  document.getElementById('verifyBtn').addEventListener('click', async () => {
    const inputId = document.getElementById('certInput').value.trim();
    const certRef = db.collection('certificates').where('certificateId', '==', inputId);
    const snapshot = await certRef.get();
    const resultDiv = document.getElementById('result');

    if(snapshot.empty) {
      resultDiv.innerHTML = '<p style="color:red;">Certificate not valid.</p>';
    } else {
      snapshot.forEach(doc => {
        const data = doc.data();
        resultDiv.innerHTML = `
          <p><strong>Name:</strong> ${data.name}<br>
          <strong>Course:</strong> ${data.courseName}<br>
          <strong>Issued At:</strong> ${data.issuedAt.toDate()}</p>
        `;
      });
    }
  });
</script>
</body>
</html>
